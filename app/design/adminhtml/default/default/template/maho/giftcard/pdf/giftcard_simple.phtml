<?php
/**
 * Maho
 *
 * @category   design
 * @package    default_default
 * @copyright  Copyright (c) 2025-2026 Maho (https://mahocommerce.com)
 * @license    https://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 */

/** @var Maho_Giftcard_Block_Pdf_Giftcard $this */
$giftcards = $this->getGiftcards();
?>
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .giftcard {
            border: 1px solid #ddd;
            padding: 20px;
            margin-bottom: 20px;
        }
        .code {
            font-size: 18pt;
            font-weight: bold;
            margin: 10px 0;
        }
        .balance {
            font-size: 16pt;
            color: #27ae60;
            margin: 10px 0;
        }
        .info {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <?php foreach ($giftcards as $giftcard): ?>
    <div class="giftcard">
        <h2>Gift Card</h2>
        <div class="code">Code: <?php echo $this->escapeHtml($giftcard->getCode()) ?></div>
        <div class="balance">Balance: <?php echo Mage::app()->getLocale()->formatCurrency($giftcard->getBalance(), $giftcard->getCurrencyCode()) ?></div>

        <?php if ($giftcard->getRecipientName()): ?>
        <div class="info">To: <?php echo $this->escapeHtml($giftcard->getRecipientName()) ?></div>
        <?php endif; ?>

        <?php if ($giftcard->getSenderName()): ?>
        <div class="info">From: <?php echo $this->escapeHtml($giftcard->getSenderName()) ?></div>
        <?php endif; ?>

        <div class="info">Status: <?php echo $this->escapeHtml($giftcard->getStatus()) ?></div>
        <div class="info">Created: <?php echo $this->formatDate($giftcard->getCreatedAt(), 'short') ?></div>

        <?php if ($giftcard->getExpiresAt()): ?>
        <div class="info">Expires: <?php echo $this->formatDate($giftcard->getExpiresAt(), 'short') ?></div>
        <?php endif; ?>

        <?php if ($giftcard->getMessage()): ?>
        <div class="info">Message: <?php echo nl2br($this->escapeHtml($giftcard->getMessage())) ?></div>
        <?php endif; ?>
    </div>
    <?php endforeach; ?>
</body>
</html>
